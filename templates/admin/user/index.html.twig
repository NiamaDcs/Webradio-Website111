<!DOCTYPE html>
<html lang="en">
    {% include 'admin/head.html.twig' %}
    {% include 'admin/user/script.html.twig' %}
<body id="page-top">

<!-- Page Wrapper -->
<div id="wrapper">
    {% include 'admin/sidebar.html.twig' %}
        <!-- Main Content -->
        <div id="content">
            {% include 'admin/navigation.html.twig' %}
            <!-- Begin Page Content -->
            <div class="container-fluid">

                <div class="row mt-4 mb-2">
                    <div class="col-xl-2">
                        <h4 class="h4 text-gray-800">Utilisateurs</h4>
                    </div>
                    <div class="col-xl-10 d-flex">
                        {#{ form_start(form) }}
                        <!-- Search form -->
                        <div class="form-group has-search user">
                            <button class="fa fa-search form-control-feedback"></button>
                             {{ form_row(form.channels) }}
                        </div>
                      {{ form_end(form) }#}
                    </div>
                </div>
                <div class="row">
                    <!-- table -->
                    <div class="col-xl-12">
                        <div class="card shadow mb-4">
                            <!-- Card Body -->
                            <div class="card-body">
                                <div class="row col-sm-12">
                                    <div class="table-responsive">
                                
                                    <table id="table" class"table table-bordered w-100" role="grid">
                                    <thead>
                                        <tr id='entete' role="row">
                                            <th scope='col'>Avatar</th>
                                            <th scope='col'>Username</th>
                                            <th scope='col'>Email</th>
                                            <th scope='col'>Cha√Æne</th>
                                            <th scope='col'>Status</th>
                                            <th scope='col'>Management</th>
                                        </tr>
                                    </thead>
                                    <tbody id='corps-table'>
                                         {% for user in users %}
                                         {% if user.role != "ROLE_SUPER_ADMIN" %}
                                            <tr>
                                                <td><img class="rounded-circle" style="font-size:2em; width:31px; height:32px;" src="{{ user.avatar }}" alt="" id="profil"></td>
                                                <td>{{ user.username }}</td>
                                                <td>{{ user.email }}</td>
                                                <td>{{ user.channels }}</td>
                                                <td>{{ user.status }}</td>
                                                <td>
                                                    {% if user.role == "ROLE_ADMIN" %}
                                                </td>
                                                {% else %}
                                                        <a  href='#bannirModal' data-toggle='modal' data-dismiss='modal'  class='far fa-trash-alt fa-2x'></a>
                                                        <a href='{{ path('admin.users.edit', {id: user.id}) }}' style="display: inline-block" class='fa-2x far fa-edit'></a>
                                                </td>
                                                {% endif %}
                                            </tr>
                                        {% endif %}
                                            {% include 'admin/user/removeUser/modal.html.twig' %}
                                         {% endfor %}
                                    </tbody>
                                    </table>
                                    <div class="pagination mt-2 d-flex justify-content-center" id="pagination_data">
                                        {{ knp_pagination_render(users) }}
                                    </div>
                                    <div style="height: auto; text-align: center" class="chart-area" id="pagination_data">
                                        <div id="users" class="mb-3"></div>
                                        <div id="usersdesc" class="mb-3"></div>
                                    </div>
                                    <a href="{{path('admin.users.new')}}" class="btn add_user">+</a>
                                  </div>
                                </div>                                
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- /.container-fluid -->

            <!-- Footer -->
            <footer class="sticky-footer bg-white">
                <div class="container my-auto">
                    <div class="copyright text-center my-auto">
                        <span class="text-black">Copyright &copy; Webradio - Stream - 2020</span>
                    </div>
                </div>
            </footer>
            <!-- End of Footer -->
        </div>
        <!-- End of Content Wrapper -->

    </div>
<!-- End of Page Wrapper -->

<!-- Scroll to Top Button-->
<a class="scroll-to-top rounded" href="#page-top">
    <i class="fas fa-angle-up"></i>
</a>


</body>

</html>